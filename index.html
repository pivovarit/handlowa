<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Czy dzisiaj jest niedziela handlowa? | CzyDzisiajOtwarte.pl</title>
    <meta name="description"
          content="SprawdÅº, czy dzisiaj sklepy sÄ… otwarte. Kalendarz niedziel handlowych 2025 i 2026. Dowiedz siÄ™, kiedy zrobisz zakupy w niedzielÄ™."/>
    <meta name="robots" content="index, follow"/>

    <meta property="og:title" content="Czy dzisiaj jest niedziela handlowa?"/>
    <meta property="og:description"
          content="Zobacz kalendarz niedziel handlowych na 2025 i 2026 rok. SprawdÅº, czy dziÅ› zrobisz zakupy!"/>
    <meta property="og:url" content="https://czydzisiajotwarte.pl"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://czydzisiajotwarte.pl/og-banner.jpg"/>

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-SYD9M50FW0"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());
        gtag('config', 'G-SYD9M50FW0');
    </script>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Czy dzisiaj jest niedziela handlowa?</title>
    <style>
        * {
            box-sizing: border-box;
        }

        html, body {
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        body {
            font-family: sans-serif;
            text-align: center;
            background-color: #f2f2f2;
            padding: 2rem;
        }

        h1 {
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        h2 {
            margin-top: 6rem;
        }

        .result {
            font-size: 1.5rem;
            font-weight: bold;
            color: #fff;
            background-color: #007bff;
            display: inline-block;
            padding: 1rem 2rem;
            border-radius: 8px;
        }

        .no {
            background-color: #dc3545;
        }

        .yes {
            background-color: #28a745;
        }

        ul {
            margin-top: 2rem;
            text-align: left;
            display: inline-block;
        }

        main {
            flex: 10;
            padding: 2rem;
        }

        footer {
            padding: 1rem;
            font-size: 0.9rem;
            color: #888;
            text-align: center;
        }

        footer a {
            color: #0078d7;
            text-decoration: none;
            font-weight: 500;
        }

        footer a:hover {
            text-decoration: underline;
        }

        #download-ical {
            margin-top: 1.5rem;
            padding: 0.5rem 1rem;
            font-size: 1rem;
            border: none;
            border-radius: 5px;
            background-color: #007bff;
            color: white;
            cursor: pointer;
            display: inline-block;
        }

        #next-sunday {
            margin: 1rem auto;
            font-size: 1.2rem;
            font-weight: bold;
            color: #333;
        }

        .highlight {
            font-weight: bold;
            color: #007bff;
        }
    </style>
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "FAQPage",
            "mainEntity": [
                {
                    "@type": "Question",
                    "name": "Czy 21 lipca 2025 to niedziela handlowa?",
                    "acceptedAnswer": {
                        "@type": "Answer",
                        "text": "Nie, 21 lipca 2025 nie jest niedzielÄ… handlowÄ…."
                    }
                },
                {
                    "@type": "Question",
                    "name": "Dlaczego sklepy sÄ… zamkniÄ™te w niedzielÄ™?",
                    "acceptedAnswer": {
                        "@type": "Answer",
                        "text": "Zgodnie z ustawÄ… o ograniczeniu handlu w niedziele, wiÄ™kszoÅ›Ä‡ sklepÃ³w w Polsce musi byÄ‡ zamkniÄ™ta, z wyjÄ…tkiem wybranych dni w roku."
                    }
                },
                {
                    "@type": "Question",
                    "name": "Gdzie znajdÄ™ kalendarz niedziel handlowych?",
                    "acceptedAnswer": {
                        "@type": "Answer",
                        "text": "PeÅ‚ny kalendarz znajdziesz na stronie oraz moÅ¼esz pobraÄ‡ go jako plik .ics."
                    }
                }
            ]
        }
    </script>

</head>
<body>
<main>
    <h1>Czy dzisiaj jest niedziela handlowa?</h1>
    <div id="result" class="result">Sprawdzanieâ€¦</div>
    <div id="next-sunday"></div>

    <h2>NadchodzÄ…ce niedziele handlowe:</h2>
    <ul id="upcoming"></ul>

    <div>
        <button id="download-ical">ðŸ“… Pobierz kalendarz (.ics)</button>
    </div>
</main>

<footer>
    Made with â˜• by <a href="https://github.com/sponsors/pivovarit" target="_blank" rel="noopener">pivovarit â€” support on
    GitHub Sponsors</a>
</footer>

<script>
    const tradingSundays2025 = [
        "2025-01-26", "2025-03-30", "2025-04-27", "2025-06-29",
        "2025-08-31", "2025-12-14", "2025-12-21"
    ];

    const tradingSundays2026 = [
        "2026-01-25", "2026-03-29", "2026-04-26", "2026-06-28",
        "2026-08-30", "2026-12-06", "2026-12-13", "2026-12-20"
    ];

    const allTradingSundays = [...tradingSundays2025, ...tradingSundays2026];

    const today = new Date();
    const todayStr = today.toISOString().split("T")[0];
    const isSunday = today.getDay() === 0;

    const resultEl = document.getElementById("result");
    const upcomingEl = document.getElementById("upcoming");
    const nextSundayEl = document.getElementById("next-sunday");

    if (isSunday && allTradingSundays.includes(todayStr)) {
        resultEl.textContent = "TAK! ðŸ›’";
        resultEl.classList.add("yes");
    } else if (isSunday) {
        resultEl.textContent = "NIE. ðŸ’¤";
        resultEl.classList.add("no");
    } else {
        const weekdayName = today.toLocaleDateString("pl-PL", {weekday: "long"});
        resultEl.textContent = `Nie, dziÅ› jest ${weekdayName}`;
        resultEl.classList.add("no");

        const nextSunday = new Date(today);
        nextSunday.setDate(today.getDate() + ((7 - today.getDay()) % 7 || 7));
        const nextSundayStr = nextSunday.toISOString().split("T")[0];

        const isNextSundayTrading = allTradingSundays.includes(nextSundayStr);
        const formattedNext = nextSunday.toLocaleDateString("pl-PL", {
            weekday: "long", year: "numeric", month: "long", day: "numeric"
        });

        const info = isNextSundayTrading
            ? `NajbliÅ¼sza niedziela (${formattedNext}) jest <span class="highlight">handlowa ðŸ›’</span>.`
            : `NajbliÅ¼sza niedziela (${formattedNext}) <span class="highlight">nie jest handlowa ðŸ’¤</span>.`;

        const p = document.createElement("p");
        p.innerHTML = info;
        nextSundayEl.appendChild(p);
    }

    const futureSundays = allTradingSundays.filter(date => date > todayStr).slice(0, 10);
    let lastYear = null;

    for (const date of futureSundays) {
        const d = new Date(date);
        const year = d.getFullYear();

        if (lastYear !== null && year !== lastYear) {
            const separatorLi = document.createElement("li");
            separatorLi.textContent = "";
            separatorLi.style.fontWeight = "bold";
            separatorLi.style.margin = "1rem 0 0.5rem";
            separatorLi.style.listStyle = "none";
            upcomingEl.appendChild(separatorLi);
        }
        lastYear = year;

        const formatted = d.toLocaleDateString("pl-PL", {
            weekday: "long", year: "numeric", month: "long", day: "numeric"
        });

        const li = document.createElement("li");
        li.textContent = formatted;

        upcomingEl.appendChild(li);
    }

    document.getElementById("download-ical").addEventListener("click", () => {
        const events = allTradingSundays.map(date => {
            return `
BEGIN:VEVENT
DTSTAMP:${formatICalDate(new Date())}
UID:${date}@niedziela-handlowa
DTSTART;VALUE=DATE:${date.replace(/-/g, '')}
DTEND;VALUE=DATE:${addOneDay(date).replace(/-/g, '')}
SUMMARY:Niedziela handlowa
TRANSP:TRANSPARENT
END:VEVENT`.trim();
        }).join("\n");

        const ical = `BEGIN:VCALENDAR
VERSION:2.0
CALSCALE:GREGORIAN
PRODID:-//pivovarit/niedziela-handlowa
METHOD:PUBLISH
${events}
END:VCALENDAR`;

        const blob = new Blob([ical], {type: 'text/calendar'});
        const url = URL.createObjectURL(blob);

        const a = document.createElement("a");
        a.href = url;
        a.download = "niedziele-handlowe-2025-2026.ics";
        a.click();
        URL.revokeObjectURL(url);
    });

    function formatICalDate(date) {
        return date.toISOString().replace(/[-:]/g, '').split('.')[0] + 'Z';
    }

    function addOneDay(dateStr) {
        const d = new Date(dateStr);
        d.setDate(d.getDate() + 1);
        return d.toISOString().split("T")[0];
    }
</script>
</body>
</html>
